<!-- DevExpress MainWindow.xaml - Ogur Sentinel -->
<Window x:Class="Ogur.Sentinel.Devexpress.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
        Title="Sentinel Desktop"
        Icon="/Assets/ogur.ico"
        Height="850" Width="450"
        MinHeight="850" MinWidth="450"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResizeWithGrip">
    
    <Window.Resources>
        <!-- Dark theme colors -->
        <SolidColorBrush x:Key="DarkBackground" Color="#1e1e1e"/>
        <SolidColorBrush x:Key="DarkPanel" Color="#2d2d2d"/>
        <SolidColorBrush x:Key="DarkBorder" Color="#3d3d3d"/>
    </Window.Resources>
    
    <Border Background="{StaticResource DarkBackground}"
            CornerRadius="10"
            BorderBrush="{StaticResource DarkBorder}"
            BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Custom Header Bar -->
            <Grid Grid.Row="0" 
                  x:Name="HeaderGrid"
                  Background="{StaticResource DarkPanel}"
                  Height="50"
                  MouseDown="Header_MouseDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Left side - Logo and Title -->
                <StackPanel Grid.Column="0" 
                            Orientation="Horizontal"
                            Margin="15,0"
                            VerticalAlignment="Center">
                    <Image Source="/Assets/ogur.ico"
                           Width="28" Height="28"
                           Margin="0,0,10,0"
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                    
                    <TextBlock Text="Sentinel"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="White"
                               VerticalAlignment="Center"/>
                    
                    <TextBlock Text="{Binding UserInfoText}"
                               FontSize="12"
                               Foreground="#999"
                               VerticalAlignment="Center"
                               Margin="15,0,0,0"
                               Visibility="{Binding UserInfoVisibility}"/>
                </StackPanel>
                
                <!-- Right side - Action Buttons -->
                <StackPanel Grid.Column="1" 
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center">
                    
                    <dx:SimpleButton Content="🚪"
                                    Command="{Binding LogoutCommand}"
                                    Visibility="{Binding LogoutButtonVisibility}"
                                    Style="{StaticResource HeaderButton}"
                                    ToolTip="Logout"/>
                    
                    <dx:SimpleButton Content="⚙️"
                                    Command="{Binding SettingsCommand}"
                                    Visibility="{Binding SettingsButtonVisibility}"
                                    Style="{StaticResource HeaderButton}"
                                    ToolTip="Settings"/>
                    
                    <dx:SimpleButton Content="Pin"
                                    Command="{Binding PinCommand}"
                                    Style="{StaticResource HeaderButton}"
                                    ToolTip="Pin on top"/>
                    
                    <dx:SimpleButton Content="➖"
                                    Command="{Binding MinimizeCommand}"
                                    Style="{StaticResource HeaderButton}"
                                    ToolTip="Minimize"/>
                    
                    <dx:SimpleButton Content="✕"
                                    Command="{Binding CloseCommand}"
                                    Style="{StaticResource HeaderButton}"
                                    ToolTip="Close"/>
                </StackPanel>
            </Grid>
            
            <!-- Navigation Content -->
            <dx:LoadingDecorator Grid.Row="1" 
                                x:Name="LoadingDecorator"
                                BorderEffect="Default"
                                BorderEffectColor="#0066cc">
                <Frame x:Name="ContentFrame"
                       NavigationUIVisibility="Hidden"
                       Background="Transparent"/>
            </dx:LoadingDecorator>
        </Grid>
    </Border>
</Window>