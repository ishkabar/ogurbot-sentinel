<Page x:Class="Ogur.Sentinel.Desktop.Views.SettingsView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#1e1e1e">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" 
                Background="#2d2d30" 
                Padding="20,15"
                BorderBrush="#3e3e42"
                BorderThickness="0,0,0,1">
            <TextBlock Text="⚙️ Settings" 
                       FontSize="24" 
                       FontWeight="Bold"
                       Foreground="White"/>
        </Border>
        
        <!-- Content -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto"
                      Padding="20">
            <StackPanel MaxWidth="500">
                
                <!-- Sync Interval -->
                <TextBlock Text="Sync Interval" 
                           Foreground="White" 
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,0,0,10"/>
                
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <TextBlock Text="Refresh timers every:" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="SyncIntervalBox"
                             Width="60"
                             Padding="5"
                             FontSize="14"
                             Background="#2d2d30"
                             Foreground="White"
                             BorderBrush="#3e3e42"
                             BorderThickness="1"
                             Margin="10,0,5,0"
                             HorizontalContentAlignment="Center"/>
                    <TextBlock Text="seconds" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <TextBlock Text="(minimum: 5 seconds)" 
                           Foreground="#666666" 
                           FontSize="11"
                           Margin="0,0,0,20"/>
                
                <!-- Time Offset -->
                <TextBlock Text="Time Offset" 
                           Foreground="White" 
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,20,0,10"/>
                
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <TextBlock Text="Adjust timer by:" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                    <TextBox x:Name="TimeOffsetBox"
                             Width="80"
                             Padding="5"
                             FontSize="14"
                             Background="#2d2d30"
                             Foreground="White"
                             BorderBrush="#3e3e42"
                             BorderThickness="1"
                             Margin="10,0,5,0"
                             HorizontalContentAlignment="Center"/>
                    <TextBlock Text="seconds" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <TextBlock Foreground="#666666" 
                           FontSize="11"
                           TextWrapping="Wrap"
                           Margin="0,0,0,20">
                    <Run Text="Negative values make timers show LESS time remaining."/>
                    <LineBreak/>
                    <Run Text="Example: -30 means timer shows 30 seconds less than actual."/>
                </TextBlock>
                
                <!-- Warning Times -->
                <TextBlock Text="Timer Warnings" 
                           Foreground="White" 
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,20,0,10"/>
                
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Red warning at:" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"
                               Width="150"/>
                    <TextBox x:Name="WarningRedBox"
                             Width="60"
                             Padding="5"
                             FontSize="14"
                             Background="#2d2d30"
                             Foreground="White"
                             BorderBrush="#3e3e42"
                             BorderThickness="1"
                             Margin="10,0,5,0"
                             HorizontalContentAlignment="Center"/>
                    <TextBlock Text="minutes" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <TextBlock Text="Orange warning at:" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"
                               Width="150"/>
                    <TextBox x:Name="WarningOrangeBox"
                             Width="60"
                             Padding="5"
                             FontSize="14"
                             Background="#2d2d30"
                             Foreground="White"
                             BorderBrush="#3e3e42"
                             BorderThickness="1"
                             Margin="10,0,5,0"
                             HorizontalContentAlignment="Center"/>
                    <TextBlock Text="minutes" 
                               Foreground="#cccccc" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <TextBlock Text="(orange must be greater than red)" 
                           Foreground="#666666" 
                           FontSize="11"
                           Margin="0,0,0,20"/>
                
                <!-- Status Message -->
                <TextBlock x:Name="StatusText"
                           FontSize="14"
                           TextWrapping="Wrap"
                           Margin="0,20,0,0"
                           Visibility="Collapsed"/>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Footer Buttons -->
        <Border Grid.Row="2" 
                Background="#2d2d30" 
                Padding="20,15"
                BorderBrush="#3e3e42"
                BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                
                <Button Content="Reset to Defaults"
                        Click="Reset_Click"
                        Padding="15,8"
                        FontSize="14"
                        Background="#3e3e42"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="0,0,10,0"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#3e3e42"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="4"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#4e4e52"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                
                <Button Content="💾 Save"
                        Click="Save_Click"
                        Padding="15,8"
                        FontSize="14"
                        Background="#0066cc"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="0,0,10,0"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#0066cc"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="4"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#0052a3"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                
                <Button Content="🔙 Back to Timers"
                        Click="Timers_Click"
                        Padding="15,8"
                        FontSize="14"
                        Background="#3e3e42"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="0,0,10,0"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#3e3e42"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="4"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#4e4e52"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                
                <Button Content="🚪 Logout"
                        Click="Logout_Click"
                        Padding="15,8"
                        FontSize="14"
                        Background="#cc0000"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#cc0000"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="4"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#a30000"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                
            </StackPanel>
        </Border>
        
    </Grid>
</Page>
